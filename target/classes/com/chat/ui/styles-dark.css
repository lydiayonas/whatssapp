/* Soft Dark Green Theme */
* {
    -fx-primary: #4CAF50; /* A soft green for accents */
    -fx-secondary: #388E3C; /* A slightly darker green */
    -fx-dark-bg: #212121; /* Very dark grey for deep backgrounds */
    -fx-sidebar-bg: #2C3A2E; /* Dark green for sidebar */
    -fx-sidebar-nav-bg: #2C3A2E;
    -fx-sidebar-nav-hover: #3D5340; /* Hover state for sidebar items */
    -fx-sidebar-nav-selected: #4D6A50; /* Selected state for sidebar items */
    -fx-chat-bg: #2B352C; /* Dark green for chat area background */
    -fx-chat-header-bg: #2C3A2E; /* Dark green for chat header */
    -fx-chat-bubble-in: #3D5340; /* Darker green for incoming bubbles */
    -fx-chat-bubble-out: #4D6A50; /* Soft green for outgoing bubbles */
    -fx-chat-bubble-out-text: #E0E0E0; /* Light text for readability */
    -fx-chat-bubble-in-text: #E0E0E0; /* Light text for readability */
    -fx-grey-color: #A0A0A0; /* Soft grey for secondary text */
    -fx-focus-color: -fx-primary;
    -fx-text-color: #E0E0E0; /* General text color */
    -fx-reply-bg: #3D5340;
    -fx-file-preview-bg: #3D5340;
    -fx-voice-preview-bg: #3D5340;
    -fx-reaction-bg: #2C3A2E;
    -fx-date-separator-bg: #3D5340;
}

.root {
    -fx-background-color: -fx-dark-bg;
    -fx-text-fill: -fx-text-color;
}

.label {
    -fx-text-fill: -fx-text-color;
}

.text-field, .password-field {
    -fx-background-color: -fx-sidebar-nav-hover;
    -fx-text-fill: -fx-text-color;
    -fx-prompt-text-fill: -fx-grey-color;
    -fx-border-color: derive(-fx-sidebar-nav-hover, 20%);
    -fx-border-width: 1px;
    -fx-background-radius: 8;
    -fx-border-radius: 8;
}

.button {
    -fx-background-color: -fx-primary;
    -fx-text-fill: white;
    -fx-background-radius: 5;
}

.button:hover {
    -fx-background-color: -fx-secondary;
}

.chat-bubble {
    -fx-background-radius: 15;
    -fx-padding: 10;
    -fx-text-fill: -fx-chat-bubble-in-text;
}

.chat-bubble.outgoing {
    -fx-background-color: -fx-chat-bubble-out;
    -fx-text-fill: -fx-chat-bubble-out-text;
}

.chat-bubble.incoming {
    -fx-background-color: -fx-chat-bubble-in;
}

.chat-sidebar {
    -fx-background-color: -fx-sidebar-bg;
}

.chat-item {
    -fx-background-color: transparent;
    -fx-text-fill: -fx-text-color;
}

.chat-item:hover {
    -fx-background-color: -fx-sidebar-nav-hover;
}

.chat-item:selected {
    -fx-background-color: -fx-sidebar-nav-selected;
}

.sidebar-topbar {
    -fx-background-color: -fx-sidebar-bg;
    -fx-border-width: 0 0 1px 0;
    -fx-border-color: derive(-fx-sidebar-bg, 10%); /* Slightly lighter border */
    -fx-padding: 10 16;
}

.sidebar-avatar {
    -fx-border-radius: 50%;
    -fx-background-radius: 50%;
    -fx-padding: 2px;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 5, 0, 0, 1);
}

.sidebar-chats-title {
    -fx-text-fill: -fx-text-color;
    -fx-font-size: 20px;
    -fx-font-weight: bold;
    -fx-padding: 0 0 0 8px;
}

.sidebar-search-container {
    -fx-background-color: -fx-sidebar-bg;
    -fx-padding: 8 16;
    -fx-alignment: CENTER_LEFT;
}

.search-box {
    -fx-background-color: -fx-dark-bg;
    -fx-background-radius: 8;
    -fx-border-radius: 8;
    -fx-padding: 6 12;
    -fx-font-size: 14px;
    -fx-text-fill: -fx-text-color;
    -fx-prompt-text-fill: -fx-grey-color;
    -fx-border-width: 0;
}

.search-box:focused {
    -fx-effect: dropshadow(gaussian, -fx-focus-color, 5, 0, 0, 0);
}

.icon-button {
    -fx-background-color: transparent;
    -fx-padding: 8;
    -fx-font-size: 18px;
    -fx-text-fill: -fx-grey-color;
    -fx-background-radius: 50%;
}

.icon-button:hover {
    -fx-background-color: -fx-sidebar-nav-hover;
}

.icon-button:pressed {
    -fx-background-color: -fx-sidebar-nav-selected;
}

/* New styles for larger icons */
.large-icon-button {
    -fx-font-size: 24px; /* Larger size */
    -fx-min-width: 44px; /* Ensure circular shape */
    -fx-min-height: 44px; /* Ensure circular shape */
    -fx-max-width: 44px;
    -fx-max-height: 44px;
    -fx-background-radius: 50%; /* Make them circular */
    -fx-alignment: CENTER;
}

/* Styles for chat header specific buttons */
.header-button {
    -fx-background-color: transparent;
    -fx-padding: 8;
    -fx-font-size: 18px;
    -fx-text-fill: -fx-text-color; /* Use text color for header icons */
    -fx-background-radius: 50%;
}

.header-button:hover {
    -fx-background-color: derive(-fx-chat-header-bg, 10%);
}

.header-button:pressed {
    -fx-background-color: derive(-fx-chat-header-bg, 20%);
}

/* Input Area Styling */
.input-area {
    -fx-background-color: -fx-sidebar-bg; /* Match sidebar background */
    -fx-padding: 8 16;
    -fx-alignment: CENTER;
    -fx-border-width: 1px 0 0 0;
    -fx-border-color: derive(-fx-sidebar-bg, 10%);
}

.message-input-wrapper {
    -fx-background-color: -fx-dark-bg;
    -fx-background-radius: 20;
    -fx-border-radius: 20;
    -fx-padding: 5 10;
    -fx-alignment: CENTER_LEFT;
    -fx-spacing: 5;
}

.message-input {
    -fx-background-color: transparent;
    -fx-text-fill: -fx-text-color;
    -fx-prompt-text-fill: -fx-grey-color;
    -fx-border-width: 0;
    -fx-font-size: 14px;
}

.message-input:focused {
    -fx-background-color: transparent;
    -fx-effect: none;
}

/* Voice Button in Input Area */
.voice-button {
    -fx-background-color: -fx-primary;
    -fx-text-fill: white;
    -fx-font-size: 22px;
    -fx-min-width: 44px;
    -fx-min-height: 44px;
    -fx-background-radius: 50%;
    -fx-border-radius: 50%;
    -fx-alignment: CENTER;
}

.voice-button:hover {
    -fx-background-color: -fx-secondary;
}

.voice-button.recording {
    -fx-background-color: #D32F2F; /* Red for recording */
}

/* Send Button in Input Area */
.send-button {
    -fx-background-color: -fx-primary;
    -fx-text-fill: white;
    -fx-font-size: 22px;
    -fx-min-width: 44px;
    -fx-min-height: 44px;
    -fx-background-radius: 50%;
    -fx-border-radius: 50%;
    -fx-alignment: CENTER;
}

.send-button:hover {
    -fx-background-color: -fx-secondary;
}

/* MessageBubble specific styles */
.message-bubble.incoming .bubble-text {
    -fx-fill: -fx-chat-bubble-in-text;
}

.message-bubble.outgoing .bubble-text {
    -fx-fill: -fx-chat-bubble-out-text;
}

.message-sender {
    -fx-font-weight: bold;
    -fx-font-size: 12px;
    -fx-text-fill: #81C784; /* A lighter green for sender name */
}

.bubble-timestamp {
    -fx-text-fill: -fx-grey-color;
    -fx-font-size: 10px;
}

.read-receipt-label {
    -fx-text-fill: -fx-primary;
}

.bubble-reply-preview {
    -fx-background-color: -fx-reply-bg;
    -fx-background-radius: 8;
    -fx-padding: 5;
    -fx-border-color: -fx-primary;
    -fx-border-width: 0 0 0 3px;
    -fx-border-insets: 0;
    -fx-text-fill: -fx-grey-color;
}

.bubble-forwarded-from {
    -fx-background-color: -fx-reply-bg;
    -fx-background-radius: 8;
    -fx-padding: 5;
    -fx-border-color: -fx-primary;
    -fx-border-width: 0 0 0 3px;
    -fx-border-insets: 0;
    -fx-text-fill: -fx-grey-color;
}

.bubble-file-display {
    -fx-background-color: -fx-file-preview-bg;
    -fx-background-radius: 8;
    -fx-padding: 8;
}

.bubble-file-name {
    -fx-text-fill: -fx-text-color;
    -fx-font-weight: bold;
}

.bubble-file-size {
    -fx-text-fill: -fx-grey-color;
    -fx-font-size: 11px;
}

.voice-message-controls {
    -fx-alignment: CENTER_LEFT;
    -fx-background-color: -fx-voice-preview-bg;
    -fx-background-radius: 8;
    -fx-padding: 5;
}

.play-button {
    -fx-background-color: -fx-primary;
    -fx-text-fill: white;
    -fx-background-radius: 50%;
    -fx-font-size: 16px;
    -fx-min-width: 30px;
    -fx-min-height: 30px;
}

.play-button:hover {
    -fx-background-color: -fx-secondary;
}

.date-separator {
    -fx-background-color: -fx-date-separator-bg;
    -fx-background-radius: 10;
    -fx-padding: 5 10;
    -fx-text-fill: white;
    -fx-font-weight: bold;
    -fx-font-size: 12px;
}

/* For chat area empty state */
.empty-state-container {
    -fx-background-color: -fx-chat-bg; /* Match chat background */
    -fx-padding: 20;
    -fx-alignment: CENTER;
}

.empty-state-label {
    -fx-text-fill: -fx-grey-color;
    -fx-font-size: 16px;
    -fx-alignment: CENTER;
}

/* ScrollPane */
.message-scroll-pane .scroll-bar:vertical .thumb {
    -fx-background-color: derive(-fx-primary, 20%);
    -fx-background-insets: 0;
    -fx-background-radius: 5;
}

.message-scroll-pane .scroll-bar:vertical .track {
    -fx-background-color: transparent;
    -fx-background-insets: 0;
    -fx-background-radius: 5;
}

.message-scroll-pane .scroll-bar:vertical .increment-button,
.message-scroll-pane .scroll-bar:vertical .decrement-button {
    -fx-padding: 0;
}

.message-scroll-pane .scroll-bar:vertical .increment-arrow,
.message-scroll-pane .scroll-bar:vertical .decrement-arrow {
    -fx-padding: 0;
}

/* Chat List Item */
.chat-list-cell {
    -fx-background-color: transparent;
    -fx-padding: 10 16;
    -fx-border-width: 0 0 1px 0;
    -fx-border-color: derive(-fx-sidebar-bg, 10%);
    -fx-text-fill: -fx-text-color;
}

.chat-list-cell:hover {
    -fx-background-color: -fx-sidebar-nav-hover;
}

.chat-list-cell:selected {
    -fx-background-color: -fx-sidebar-nav-selected;
}

.chat-item-name {
    -fx-font-weight: bold;
    -fx-font-size: 16px;
    -fx-text-fill: -fx-text-color;
}

.chat-item-last-message {
    -fx-text-fill: -fx-grey-color;
    -fx-font-size: 13px;
}

.chat-item-timestamp {
    -fx-text-fill: -fx-grey-color;
    -fx-font-size: 11px;
}

.chat-item-unread-count {
    -fx-background-color: -fx-primary;
    -fx-text-fill: white;
    -fx-background-radius: 10;
    -fx-padding: 2 6;
    -fx-font-size: 11px;
    -fx-font-weight: bold;
}

/* Context Menu */
.context-menu {
    -fx-background-color: -fx-sidebar-bg;
    -fx-background-radius: 5;
    -fx-padding: 5;
}

.menu-item {
    -fx-background-color: transparent;
    -fx-text-fill: -fx-text-color;
    -fx-padding: 8 15;
}

.menu-item:hover {
    -fx-background-color: -fx-sidebar-nav-hover;
    -fx-background-radius: 3;
}

.menu-item:selected {
    -fx-background-color: -fx-sidebar-nav-selected;
    -fx-background-radius: 3;
}
